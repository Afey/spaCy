

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Don’t Settle for a List of Strings &mdash; spaCy 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="spaCy 0.1 documentation" href="../index.html"/>
        <link rel="next" title="Installation" href="install.html"/>
        <link rel="prev" title="spaCy NLP Tokenizer and Lexicon" href="../index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> spaCy</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Don&#8217;t Settle for a List of Strings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#benchmarks">Benchmarks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pros-and-cons">Pros and Cons</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#pip-install-spacy">pip install spacy</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#git-clone-http-github-com-honnibal-spacy-git">git clone http://github.com/honnibal/spaCy.git</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/tokenizers/index.html">Tokenizers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/lexicon.html">spacy.word.Lexeme</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">Module Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../modules/index.html#module-spacy.lang">spacy.lang</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/index.html#module-spacy.word">spacy.word</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/index.html#module-spacy.orth">spacy.orth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/index.html#module-spacy.util">spacy.util</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">spaCy</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Don&#8217;t Settle for a List of Strings</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="don-t-settle-for-a-list-of-strings">
<h1>Don&#8217;t Settle for a List of Strings<a class="headerlink" href="#don-t-settle-for-a-list-of-strings" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><em>&#8220;Other tokenizers return lists of strings, which is downright
barbaric.&#8221;</em> &#8212; me</div></blockquote>
<p>spaCy splits text into a list of lexical types, which come with a variety of
features pre-computed.  It&#8217;s designed to <strong>make the right thing easy</strong>, where the right
thing is:</p>
<ul class="simple">
<li>A global vocabulary store;</li>
<li>Cached orthographic features;</li>
<li>Clever use of distributional data.</li>
</ul>
<p>Let&#8217;s say you&#8217;re writing an entity tagger for English. Case distinctions are an
important feature here: you need to know whether the word you&#8217;re tagging is
upper-cased, lower-cased, title-cased, non-alphabetic, etc.
The right thing is to call the string.isupper(), string.islower(), string.isalpha()
etc functions once for every <em>type</em> in your vocabulary, instead
of once for every <em>token</em> in the text you&#8217;re tagging.
When you encounter a new word, you want to create a lexeme object, calculate its
features, and save it. That&#8217;s the <em>right</em> way to do it, so it&#8217;s what spaCy does
for you.</p>
<p>Other tokenizers give you a list of strings, which makes it really easy to do
the wrong thing. And the wrong thing isn&#8217;t just a little bit worse: it&#8217;s
<strong>exponentially</strong> worse, because of
<a class="reference external" href="http://en.wikipedia.org/wiki/Zipf's_law">Zipf&#8217;s law</a>.</p>
<div class="figure align-center">
<img src="../_images/chart.svg" /><p class="caption">The Gigaword corpus of English contains TODO tokens, with TODO lexical
types. The graph above shows how the number of tokens and types grows as the
corpus is tokenized. As we expect from Zipf&#8217;s law, the vocabulary grows
exponentially slower than the number of tokens.</p>
</div>
<p>Yes, it&#8217;s a bit snarky to present the graph in a linear scale. It&#8217;s not what I&#8217;d
put in a paper. But it isn&#8217;t misleading. Over the Gigaword corpus,
if you compute some feature on a per-type basis, you&#8217;ll make TODO fewer calls
to that function than if you had computed it on a per-token basis.</p>
<div class="section" id="benchmarks">
<h2>Benchmarks<a class="headerlink" href="#benchmarks" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="16%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>System</td>
<td>Time</td>
<td>Words/second</td>
<td>Speed Factor</td>
</tr>
<tr class="row-even"><td>NLTK</td>
<td>6m4s</td>
<td>89,000</td>
<td>1.00</td>
</tr>
<tr class="row-odd"><td>spaCy</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<p>The comparison refers to 30 million words from the English Gigaword, on
a Maxbook Air.  For context, calling string.split() on the data completes in
about 5s.</p>
</div>
<div class="section" id="pros-and-cons">
<h2>Pros and Cons<a class="headerlink" href="#pros-and-cons" title="Permalink to this headline">¶</a></h2>
<p>Pros:</p>
<ul class="simple">
<li>Stuff</li>
</ul>
<p>Cons:</p>
<ul class="simple">
<li>It&#8217;s new (released September 2014)</li>
<li>Higher memory usage (up to 1gb)</li>
<li>More complicated</li>
<li>Tokenization rules expressed in code, not as data</li>
</ul>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="install.html" class="btn btn-neutral float-right" title="Installation"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral" title="spaCy NLP Tokenizer and Lexicon"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Matthew Honnibal.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>